/*
 * KORRIGIERTE LOWER LAYER KONFIGURATION
 * Für: Corne Choc Pro BT mit macOS-Deutsch
 * 
 * KRITISCHE ÄNDERUNGEN:
 * - [0,0]:  GRAVE → EQUAL              (^ statt <)
 * - [1,0]:  LS(GRAVE) → LS(EQUAL)      (° statt >)
 * - [2,0]:  LS(N3) → RA(N7)            (¶ statt §)
 * - [2,1]:  LS(EQUAL) → RA(N1)         (¡ statt +)
 * - [2,2]:  LS(SQT) → RA(N2)           (" statt Ä)
 * - [2,3]:  LS(N4) → RA(N4)            (¢ statt $)
 * - [2,4]:  RBKT → RA(N5)              ([ statt +)
 * - [2,5]:  LS(RBKT) → RA(N6)          (] statt *)
 * - [2,8]:  RA(N7) → RA(N8)            ({ statt |)
 * - [2,9]:  RA(N8) → RA(N9)            (} statt {)
 * - [2,10]: RA(NON_US_BSLH) → RA(L)    (| statt \)
 * - [2,11]: LS(NON_US_BSLH) → LS(NON_US_HASH) (' statt °)
 * - [2,12]: LS(N6) → RA(N0)            (≠ statt &)
 * - [2,13]: RA(MINUS) → RA(LS(MINUS))  (¿ statt –)
 */

lower_layer {
    bindings = <
        // ┌─────────┬─────┬─────┬─────┬─────┬─────┐       ┌─────┬─────┬─────┬─────┬─────┬──────┐
        // │    ^    │  1  │  2  │  3  │  4  │  5  │       │  6  │  7  │  8  │  9  │  0  │  ß   │
        // ├─────────┼─────┼─────┼─────┼─────┼─────┤       ├─────┼─────┼─────┼─────┼─────┼──────┤
        // │    °    │  !  │  "  │  §  │  $  │  %  │       │  &  │  /  │  (  │  )  │  =  │  ?   │
        // ├─────────┼─────┼─────┼─────┼─────┼─────┤       ├─────┼─────┼─────┼─────┼─────┼──────┤
        // │    ¶    │  ¡  │  "  │  ¢  │  [  │  ]  │       │  {  │  }  │  |  │  '  │  ≠  │  ¿   │
        // └─────────┴─────┴─────┼─────┼─────┼─────┤       ├─────┼─────┼─────┼─────┴─────┴──────┘
        //                       │ CMD │  ▼  │SPACE│       │ENTER│     │ ALT │
        //                       └─────┴─────┴─────┘       └─────┴─────┴─────┘

        // REIHE 0: Zahlenreihe (^1234567890ß´)
        // Position [0,0]: ^ (Dead Key) - KORRIGIERT von GRAVE zu EQUAL
        &kp EQUAL        // ^ (Dead Key für Accents: ê, â, ô, etc.)
        &kp N1           // 1
        &kp N2           // 2
        &kp N3           // 3
        &kp N4           // 4
        &kp N5           // 5
        &none &none      // OLED Display blockiert 2 Positionen
        &kp N6           // 6
        &kp N7           // 7
        &kp N8           // 8
        &kp N9           // 9
        &kp N0           // 0
        &kp MINUS        // ß (auf DE-Layout ist MINUS die ß-Position)

        // REIHE 1: Shift+Zahlen (°!"§$%&/()=?)
        // Position [1,0]: ° (Grad) - KORRIGIERT von LS(GRAVE) zu LS(EQUAL)
        &kp LS(EQUAL)    // ° (Grad-Zeichen)
        &kp EXCL         // ! (funktioniert auf allen Layouts)
        &kp LS(N2)       // " (auf DE ist Shift+2 = ")
        &kp LS(N3)       // § (auf DE ist Shift+3 = §)
        &kp DLLR         // $ (auf DE ist Shift+4 = $)
        &kp PRCNT        // % (auf DE ist Shift+5 = %)
        &none &none      // OLED Display blockiert 2 Positionen
        &kp LS(N6)       // & (auf DE ist Shift+6 = &)
        &kp LS(N7)       // / (auf DE ist Shift+7 = /)
        &kp LS(N8)       // ( (auf DE ist Shift+8 = ()
        &kp LS(N9)       // ) (auf DE ist Shift+9 = ))
        &kp LS(N0)       // = (auf DE ist Shift+0 = =)
        &kp LS(MINUS)    // ? (auf DE ist Shift+ß = ?)

        // REIHE 2: Zusätzliche Sonderzeichen (¶¡"¢[]{}|'≠¿)
        // ALLE Positionen außer &none wurden korrigiert!
        &kp RA(N7)       // ¶ (Pilcrow) - KORRIGIERT von LS(N3)
        &kp RA(N1)       // ¡ (Inverted Exclamation) - KORRIGIERT von LS(EQUAL)
        &kp RA(N2)       // " (Left Double Quote) - KORRIGIERT von LS(SQT)
        &kp RA(N4)       // ¢ (Cent) - KORRIGIERT von LS(N4)
        &kp RA(N5)       // [ (Left Bracket) - KORRIGIERT von RBKT
        &kp RA(N6)       // ] (Right Bracket) - KORRIGIERT von LS(RBKT)
        &none &none      // Encoder-Positionen (keine Displays in dieser Reihe)
        &kp RA(N8)       // { (Left Brace) - KORRIGIERT von RA(N7)
        &kp RA(N9)       // } (Right Brace) - KORRIGIERT von RA(N8)
        &kp RA(L)        // | (Pipe) - KORRIGIERT von RA(NON_US_BSLH)
        &kp LS(NON_US_HASH) // ' (Single Quote) - KORRIGIERT von LS(NON_US_BSLH)
        &kp RA(N0)       // ≠ (Not Equal) - KORRIGIERT von LS(N6)
        &kp RA(LS(MINUS)) // ¿ (Inverted Question) - KORRIGIERT von RA(MINUS)

        // REIHE 3: Daumentasten (unverändert)
        &kp LGUI         // CMD (linke Seite)
        &trans           // LOWER aktiviert (transparent = durchgereicht)
        &kp SPACE        // Space
        &kp RET          // Enter
        &trans           // RAISE (transparent)
        &kp LALT         // ALT (rechte Seite)
    >;
};

/*
 * VALIDIERUNGS-CHECKLISTE:
 * 
 * Nach dem Flash testen:
 * □ LOWER + TAB → ^ (Dead Key, dann "e" → "ê")
 * □ LOWER + Q + TAB → °
 * □ LOWER + Ü → ß
 * □ LOWER + V → [
 * □ LOWER + B → ]
 * □ LOWER + N → {
 * □ LOWER + M → }
 * □ LOWER + , → |
 * □ LOWER + Z → ¶
 * □ LOWER + C → ¢
 * □ LOWER + X → "
 * □ LOWER + SHIFT → ¿
 * 
 * Regression-Tests:
 * □ Base Layer funktioniert (QWERTZ + Umlaute)
 * □ Raise Layer funktioniert (F-Keys + Navigation)
 * □ AeroSpace Layer funktioniert (Hyper-Shortcuts)
 * □ Adjust Layer funktioniert (Media + System)
 * 
 * WICHTIG:
 * - Diese Konfiguration ersetzt NUR den lower_layer {} Block
 * - Alle anderen Layer bleiben unverändert
 * - default_layout (nicht five_col_layout!) bleibt aktiv
 * - &none Positionen für Displays bleiben erhalten
 */
